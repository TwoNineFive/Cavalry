# checks if player is riding a horse then if the horse is wearing iron horse armor make it 20% slower
# as good as can be here (i think?)
execute as @a[nbt={RootVehicle:{Entity:{ArmorItems:[{},{},{id:"minecraft:iron_horse_armor"}]}}},nbt={RootVehicle:{Entity:{id:"minecraft:horse"}}}] run attribute @e[type=horse,nbt={ArmorItem:{id:"minecraft:iron_horse_armor"}},sort=nearest,limit=1] minecraft:generic.movement_speed modifier add 177d6676-e62f-4ffe-8e81-c6b9bd705315 generic.movement_speed -0.2 multiply
# checks if player is riding horse then if the horse is wearing iron armor, if it is then reduced jump by 10%
execute as @a[nbt={RootVehicle:{Entity:{ArmorItems:[{},{},{id:"minecraft:iron_horse_armor"}]}}},nbt={RootVehicle:{Entity:{id:"minecraft:horse"}}}] run attribute @e[type=horse,nbt={ArmorItem:{id:"minecraft:iron_horse_armor"}},sort=nearest,limit=1] minecraft:horse.jump_strength modifier add 13312126-d29d-4222-ad65-c363515a427e horse.jump_strength -0.1 multiply
# checks if player is riding a horse, if they are then check if horse is NOT wearing iron horse armor, if it is not then remove attribute modifiers
execute as @a[nbt=!{RootVehicle:{Entity:{ArmorItems:[{},{},{id:"minecraft:iron_horse_armor"}]}}},nbt={RootVehicle:{Entity:{id:"minecraft:horse"}}}] run attribute @e[type=horse,nbt=!{ArmorItem:{id:"minecraft:iron_horse_armor"}},sort=nearest,limit=1] minecraft:horse.jump_strength modifier remove 13312126-d29d-4222-ad65-c363515a427e
execute as @a[nbt=!{RootVehicle:{Entity:{ArmorItems:[{},{},{id:"minecraft:iron_horse_armor"}]}}},nbt={RootVehicle:{Entity:{id:"minecraft:horse"}}}] run attribute @e[type=horse,nbt=!{ArmorItem:{id:"minecraft:iron_horse_armor"}},sort=nearest,limit=1] minecraft:generic.movement_speed modifier remove 177d6676-e62f-4ffe-8e81-c6b9bd705315
# might be better if i utilize a scoreboard so that it only runs the command if the horse isnt wearing any armor
